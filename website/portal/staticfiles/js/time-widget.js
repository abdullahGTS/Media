function loadTime() { var e = moment(), d = new Date; $("#time").html(""); var t = d.toLocaleTimeString().replace(/([\d]+:[\d]{2})(:[\d]{2})(.*)/, "$1") + '<span style=" transform: rotate(-90deg);transform-origin: left top 0;font-size:15px;">' + d.toLocaleTimeString().replace(/([\d]+:[\d]{2})(:[\d]{2})(.*)/, "$3") + "</span>"; $("#time").append(t), $("#daytime").html(""), $("#daytime").append(d.toLocaleTimeString().replace(/([\d]+:[\d]{2})(:[\d]{2})(.*)/, "$3")), $("#day").html(""), $("#day").append(e.format("dddd")), $("#date").html(""), $("#date").append(e.format("DD MMM YYYY")); setTimeout(loadTime, 1e3) } $((function () { var e = moment(), d = moment().daysInMonth(), t = moment().endOf("month"), a = moment().endOf("year"), s = moment().endOf("week").add(-1, "days"), n = moment().endOf("quarter"), r = moment().startOf("quarter").add(-1, "days"), m = t.diff(e, "days"), o = a.diff(e, "days"), p = n.diff(e, "days"), l = s.diff(e, "days"), y = e.endOf("day").diff(r, "days"), f = 7 - l, h = p + y, i = Math.round(y / h * 100), P = Math.round((d - m) / d * 100), c = Math.round((365 - o) / 365 * 100), u = Math.round(f / 7 * 100); $("#monthPassed").html(""), $("#monthPassed").append(d - m), $("#monthPassedPerc").html(""), $("#monthPassedPerc").append(P + "%"), $("#monthleft").append(m), document.getElementById("monthProgress").style.width = P + "%", $("#quarterPassed").html(""), $("#quarterPassed").append(y), $("#quarterPassedPerc").html(""), $("#quarterPassedPerc").append(i + "%"), $("#quarterleft").append(p), document.getElementById("quarterProgress").style.width = i + "%", $("#yearPassed").html(""), $("#yearPassed").append(365 - o), $("#yearPassedPerc").html(""), $("#yearPassedPerc").append(c + "%"), $("#yearleft").append(o), document.getElementById("yearProgress").style.width = c + "%", $("#weeksPassed").html(""), $("#weeksPassed").append(f), $("#weeksPassedPerc").html(""), $("#weeksPassedPerc").append(u + "%"), $("#weeksleft").append(l), document.getElementById("weekProgress").style.width = u + "%", loadTime() }));